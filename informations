"""
Voici la documentation de l'application.
Je te demande de toujours te r√©f√©rer √† cette documentation pour d√©velopper l'application.
Lors de ton d√©veloppment tu d√©tailleras tes choix et tes d√©cisions afin que je puisse comprendre ton raisonnement et le valider.

‚úÖ üéØ Objectif de l'app 4 CAPS IA
Cr√©er une plateforme collaborative aliment√©e par une IA (Claude), permettant aux acteurs du BTP de mieux remplir leurs missions : 
comprendre, d√©cider, et collaborer plus vite gr√¢ce √† une interface simple et un chat intelligent.

Tout d'abord voyons la structure fonctionnelle de l'application.

üß± Structure fonctionnelle

L'application est compos√©e de 3 panneaux :

- le panneau gauche : Documents
- le panneau central : Visualisation
- le panneau droit : Chat IA (Claude)

üóÇÔ∏è Panneau gauche : Documents

Simple arborescence de dossiers
Actions : upload, renommage, suppression, tri
Pas besoin d‚Äôaper√ßus ou d‚Äôannotations pour le moment

üñ•Ô∏è Panneau central : Visualisation

Affichage de :  

- PDF (via pdf.js)
- Word / Excel (via Microsoft Office Viewer)
- Plans 2D / Maquettes 3D (via Autodesk Forge Viewer)

S√©lection d‚Äôun fichier dans le panneau gauche ‚Üí affichage dans le panneau central

üí¨ Panneau droit : Chat IA (Claude)
Copilote IA int√©gr√© comme Cursor

Exemples de fonctionnalit√©s:

- R√©sum√©s de documents ouverts
- Questions cibl√©es sur contenu
- G√©n√©ration de comptes-rendus
- Aide contextuelle par r√¥le (MOE, MOA, etc.)

Mod√®le : Claude 3 Opus (id√©al pour le long et structur√©)

üß† Intelligence IA : M√©canique de RAG

Embeddings : transformer les documents en vecteurs

RAG :
- L'utilisateur pose une question
- On retrouve les passages pertinents via les embeddings
- On alimente Claude avec ces passages comme contexte

Objectif : des r√©ponses pr√©cises et sourc√©es

Stack :
- Langchain pour la logique
- Supabase Vector pour stocker les embeddings

üß∞ Stack Technique

Frontend : React + Tailwind + Shadcn/ui (Cursor)
Backend : Supabase (auth, BDD, storage, vector store)
Viewer : PDF.js, Microsoft Office Viewer, Autodesk Forge Viewer
Chat IA : Claude 3 Opus via Anthropic API
IA + RAG : Langchain + Supabase Vector
Stockage fichiers : Supabase Storage (PDF, .docx, .xlsx, .dwg, .rvt, .ifc...)

üîë Authentification

- Authentification via Google OAuth
- Authentification via email/mot de passe



----
ETAPES DE D√âVELOPPEMENT 

1. Impl√©menter l'authentification avec Supabase
2. Cr√©er les composants pour la gestion des documents
3. Int√©grer les diff√©rents viewers (PDF.js, Microsoft Office Viewer, Autodesk Forge)
4. Mettre en place l'int√©gration avec Claude et le syst√®me RAG
----

INFORMATIONS SUPABASE

mot de passe : Bazalex.10
URL : https://cdpalrnckouanozfohcz.supabase.co
ANON PUBLIC : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkcGFscm5ja291YW5vemZvaGN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1MTQ4ODQsImV4cCI6MjA2MTA5MDg4NH0.kXEAzYsHJ6UuG2wdNKD4CUQWt-w6Mlw8ropk2j5F0po
SERVICE ROLE SECRET : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkcGFscm5ja291YW5vemZvaGN6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NTUxNDg4NCwiZXhwIjoyMDYxMDkwODg0fQ.uEQuYjRq8TW2Ze6m4cybf3SgWfv5JsfMAgKusshcLR8

"""